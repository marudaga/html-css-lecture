<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3> 이벤트에서의 this </h3>

    <div id="layout"></div>
    <hr>

    <p> <button type="button" onclick="fun();">확인</button></p>
    <script>
        // 일반함수
        function fun(){
            let s = "이벤트핸들러함수 내부의 this는 전역객체인 window 객체이다."
            document.getElementById("layout").innerHTML = s;
            console.log(this);//this :일반함수여서 window 가리킴
        }
    </script>
    <hr>

    <p><button  type="button" class="btn2">확인</button></p>
    <script>
        const btn2 = document.querySelector(".btn2");
        
        btn2.onclick = function(e){//e는 이벤트를 발생한 정보를 갖음
            // 이벤트핸들러 첫번째 인수 : 이벤트를 발생시킨 객체에 대한 정보
            let s = "이벤트핸들러 프로퍼티 방식에서의 핸들러 내부의 this는 이벤트를 발생시킨 객체"
            
            document.getElementById("layout").innerHTML = s;
            console.log(this);//이벤트발생객체
            console.log(e.currentTarget); ///이벤트발생객체
            console.log(e.currentTarget === this);

            this.style.display = 'none';
        };
        
        //이벤트 핸들러가 화살표함수인 경우 this는 window객체
        /*
        btn2.onclick = e => {
            let s = "이벤트 핸들러가 화살표함수인 경우 this는 window객체"
            //이벤트핸들러 프로퍼티 방식에서의 핸들러 내부의 this는 이벤트를 발생시킨 객체"

            document.getElementById("layout").innerHTML = s;

            console.log(this);//window 객체
            console.log(e.currentTarget); ///이벤트발생시킨 객체
        }*/
        
    </script>
    <hr>

    <p><button type="button" class="btn3">확인</button></p>
    <script>
        const btn3 = document.querySelector(".btn3");
        btn3.addEventListener("click",function(e){
            // 이벤트핸들러 첫번째 인수 : 이벤트를 발생시킨 객체에 대한 정보
            let s = "addEventListener()에서의 핸들러 내부의 this는 이벤트를 발생시킨 객체"
            
            document.getElementById("layout").innerHTML = s;
            console.log(this);//이벤트발생객체
            console.log(e.currentTarget); ///이벤트발생객체
            console.log(e.currentTarget === this);//true

            this.style.display = 'none';
        });
    </script>

    
</body>
</html>