<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #subject{list-style: none; padding: 0;}
        .item{cursor: pointer;}
    </style>
</head>
<body>
    <h3>이벤트 헨들러 + window.onload</h3>
    
    <ul id="subject">
        <li class="items">javascript</li>
        <li class="items">HTML 5</li>
        <li class="items">CSS 3</li>
        <li class="items">Node.js</li>
        <li class="items">XML</li>
    </ul>

    <script>

        //잘못 작성한 경우
        // window.onload = function(){//window.onload의경우 위에 작성하면 
        //     let items = document.querySelectorAll(".item");
        //    // let items = document.querySelectorAll(".item");//첫번째 쿼리만 가져옴
        //     for(var i=0;i<items.length;i++){
        //         itmes[i].onclick = function(){//이벤트 나옴
        //             alert("순번:" + (i+1));//6 나옴
        //         };
        //     }
        // };

        //올바른 방법
        window.onload = function(){
            //html 소스보다 아래 자브스크립트가 있으므로 window.onload 생략가능
            let items = document.querySelectorAll(".items");
            for(let i=0;i<items.length;i++){//var i=0;i<items.length;i++){
                //var 쓰면 범위가 전역이라 나와서도 실행됨 6만나오고 let을써야함
                items[i].onclick = function(){
                    //alert("순번:" + (i+1)); //1,2,3,4,5,6 나옴
                    alert(items[i].innerText);//내부문자열 가져옴 javascript,HTML5,css 3, nodjs,xml
                };
            }
        };
        //
    </script>
    
</body>
</html>